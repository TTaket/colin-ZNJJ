# Colin_IOT

## 导航

1. [项目背景](#xmbj)
2. [快捷启动](#kjqd)
3. [支持命令](#zcml)

---

## 项目背景

科林姜南老师在嵌入式授课过程中委托我做一套 Qt 为客户端的智能家居控制系统。

项目共分为一个服务端和三种客户端，分别对应命令行、Qt、STM32。

支持在公网环境下与已联网的 STM32 进行通讯，并下发指令（如控制 LED、舵机、电机等）。

---

## 快捷启动

目前可以使用的是 `simple` 版本。

启动需要服务端 + STM32 客户端 + Qt 客户端 / 命令行客户端。

> 项目中提供的是 STM32 相关的文件，不能直接启动。
> 需自行更改 MW8266D 的串口和主要用于通讯的串口。
> STM32 中的许多配置需要用户自行完成。

### 服务端 / 命令行客户端

1. 修改 `/header/config.h` 中的 IP/PORT，改为服务端的 IP 和端口。
2. 在 `Makefile` 中重新编译：`make`。
3. 运行服务端或命令行客户端。

### Qt 客户端

1. 修改 `/pkg/header/config.h` 中的 IP/PORT，改为服务端的 IP 和端口。
2. 在 Qt 工程中进行编译。
3. 运行 Qt 客户端。

### STM32 客户端

1. 修改 STM32 包中的 `net.h`，包括 IP/PORT 以及 WiFi 配置。
2. 可选：修改设备名称（如 `stm32_01`），避免在同一服务器中设备名称重复。
3. 配置 STM32，烧写到开发板中。

---

## 支持命令

| 名称 | 行为                | 指令代码          |
| ---- | ------------------- | ----------------- |
| send | 发送信息给某人/设备 | `/send xx info` |
| cmd  | 下达命令给设备      | `/cmd xx info`  |
| exit | 退出                | `/exit`         |

后续协议包完善后将支持更多功能，例如登录、注册、绑定设备等。
